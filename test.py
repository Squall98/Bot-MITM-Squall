from urllib.parse import unquote

def decypher_data(map_data, decryptkey):
    result = ''
    decryptedkey = Preparekey_2(decryptkey)
    somme = sum([int(decryptkey[i:i + 2], 16) % 16 for i in range(0, len(decryptkey), 2)]) % 16 * 2
    for i in range(0, len(map_data), 2):
        hex_code = map_data[i:i+2]
        hex_int = int(hex_code, 16)
        power = decryptedkey[(i // 2 + somme) % len(decryptedkey)]
        op_result = hex_int ^ ord(power)
        result += chr(op_result)
    return unquote(result)

def Preparekey_2(decrypt_key):
    return ''.join(chr(int(decrypt_key[i:i+2], 16)) for i in range(0, len(decrypt_key), 2))

# Remplace ces variables par les données extraites
map_data_value = (
    "263b4d354025023a2c4805551c4539523413262a1d511d01070c0f2107103b43020d463a0e4a0607063d4e04571b44484c213c302255324509090e53630a435b3c043459031a15294c0720433a3a4b3603562238425d525844280e4717562d56515a5b38731d1158582e0d123a51625b105a394713233a2e224055161f55395d161a634c5d2d093117233d49254e2209031552293f0e60136c3a440f324d35440c0b1c2c4c2c5c1c453d7b3d35262e34581d01032506070714124a020d4213076c06032c61780453324d6e4c25166c325f366c002f0e574a03435b382d3d7f031e3c204c07246a331c4b322a5f223846745b7e442c274e1756297f037c0f3c5a4f110c5c0804193d554b52160d316e41056d2a0b4956111b7c3074111e4a455e2a0d181e233d4d0c47210e073c5b0f3f0a491a4a3a40263b6b354025023a2c4805553a4539523413262a1d513b01070c0f2107103b433407462a084a0607063d680457176d484c213c30045f324509090e53630a655b3c043459031a15296a0720433a3a4b3603560438425d525844280e1c31022d56515a5f1b7c601958582e0d176a5d6d001b09394713266a22224055161f55395d161a634c782a09311723396a254e070e031552293f0e60136c3a440f324d35440c0b1c2c4c2c5c1c453d7b3d35262e38713b01032506170d14124a020d4213076c0603231d4e0453324d6e4c251539225f366c002f0e574a03435b382d3d7f031e3c204c07246a331c4b322a5f223846747d7e122c274e1756297f587c5b3c5a4f110c5c085f1a6e554b52160d316e1a233a2a0b4956111b7c307b161e4a455e2a0d181e053d4d0c47210e073c5b0f3f0a491a4a3a40263b6b0c4025023a2c4805553a45395e1d35262a1d512b0b070c292107103b43240d4636274a0607063d683d571b444848013c30045f324509090e53630a655b3c043459031a15296a0720433a3a4b3603560438425d525844280e1c31022d56515a5f1b7c601958582e0d176a5d6d001b09394713266a22224055161f55395d161a634c782a09311723396a254e070e031552293f0e60136c3a440f324d35440c0b1c2c4c2c5c1c453d7b3d35262e38713b01032506170d14124a020d4213076c0603231d4e0453324d6e4c251539225f366c002f0e574a03435b382d3d7f031e3c204c07246a331c4b322a5f223846747d7e122c274e1756297f587c5b3c5a4f110c5c085f1a6e554b52160d316e1a233a2a0b4956111b7c307b161e4a455e2a0d181e053d4d0c47210e073c5b0f3f0a491a4a3a40263b6b0c4025023a2c4805553a45395e1d35262a1d512b0b070c292107103b43240d4636274a0607063d683d571b444848013c30045f324509090e53630a655b3c043459031a15296a0720433a3a4b3603560438425d525844280e1c31022d56515a5f1b7c601958582e0d176a5d6d001b09394713266a22224055161f55395d161a634c782a09311723396a254e070e031552293f0e60136c3a440f324d35440c0b1c2c4c2c5c1c453d7b3d35262e38713b01032506170d14124a020d4213076c0603231d4e0453324d6e4c251539225f366c002f0e574a03435b382d3d7f031e3c204c07246a331c4b322a5f223846747d7e122c274e1756297f587c5b3c5a4f110c5c085f1a6e554b52160d316e1a233a2a0b4956111b7c307b161e4a455e2a0d181e053d4d0c47210e073c5b0f3f0a491a4a3a40263b6b0c4025023a2c4805553a45395e1d35262a1d512b0b070c292107103b43240d4636274a0607063d683d571b444848013c30045f324509090e53630a655b3c043459031a15296a0720433a3a4b3603560438425d525844280e1c31022d56515a5f1b7c601958582e0d176a5d6d001b09394713266a22224055161f55395d161a634c782a09311723396a254e070e031552293f0e60136c3a440f324d35440c0b1c2c4c2c5c1c453d7b3d35262e38713b01032506170d14124a020d4213076c0603231d4e0453324d6e4c251539225f366c002f0e574a03435b382d3d7f031e3c204c07246a331c4b322a5f223846747d7e122c274e1756297f587c5b3c5a4f110c5c085f1a6e554b52160d316e1a233a2a0b4956111b7c307b161e4a455e2a0d181e053d4d0c47210e073c5b0f3f0a491a4a3a40263b6b354025023a2c4805553a45395e1d35262a1d513b01070c0f2107103b43020d463a0e4a0607063d4e04571b44484c213c302255324509090e53630a435b3c043459031a15294c0720433a3a4b3603562238425d525844280e4717562d56515a5b38731d1158582e0d123a51625b105a394713233a2e224055161f55395d161a634c5d2d093117233d49254e2209031552293f0e60136c3a440f324d35440c0b1c2c4c2c5c1c453d7b3d35262e34581d01032506070714124a020d4213076c06032c61780453324d6e4c25166c325f366c002f0e574a03435b382d3d7f031e3c204c07246a331c4b322a5f223846745b7e442c274e1756297f037c0f3c5a4f110c5c0804193d554b52160d316e41056d2a0b4956111b7c3074111e4a455e2a0d181e233d4d0c47210e073c5b0f3f0a491a4a3a40263b6b354025023a2c4805553a4539523413262a1d513b01070c0f2107103b433407462a084a0607063d680457176d484c213c30045f324509090e53630a655b3c043459031a15296a0720433a3a4b3603560438425d525844280e1c31022d56515a5f1b7c601958582e0d176a5d6d001b09394713266a22224055161f55395d161a634c782a09311723396a254e070e031552293f0e60136c3a440f324d35440c0b1c2c4c2c5c1c453d7b3d35262e38713b01032506170d14124a020d4213076c0603231d4e0453324d6e4c251539225f366c002f0e574a03435b382d3d7f031e3c204c07246a331c4b322a5f223846747d7e122c274e1756297f587c5b3c5a4f110c5c085f1a6e554b52160d316e1a233a2a0b4956111b7c307b161e4a455e2a0d181e053d4d0c47210e073c5b0f3f0a491a4a3a40263b6b0c4025023a2c4805553a45395e1d35262a1d512b0b070c292107103b43240d4636274a0607063d683d571b444848013c30045f324509090e53630a655b3c043459031a15296a0720433a3a4b3603560438425d525844280e1c31022d56515a5f1b7c601958582e0d176a5d6d001b09394713266a22224055161f55395d161a634c782a09311723396a254e070e031552293f0e60136c3a440f324d35440c0b1c2c4c2c5c1c453d7b3d35262e38713b01032506170d14124a020d4213076c0603231d4e0453324d6e4c251539225f366c002f0e574a03435b382d3d7f031e3c204c07246a331c4b322a5f223846747d7e122c274e1756297f587c5b3c5a4f110c5c085f1a6e554b52160d316e1a233a2a0b4956111b7c307b161e4a455e2a0d181e053d4d0c47210e073c5b0f3f0a491a4a3a40263b6b0c4025023a2c4805553a45395e1d35262a1d512b0b070c292107103b43240d4636274a0607063d683d571b444848013c30045f324509090e53630a655b3c043459031a15296a0720433a3a4b3603560438425d525844280e1c31022d56515a5f1b7c601958582e0d176a5d6d001b09394713266a22224055161f55395d161a634c782a09311723396a254e070e031552293f0e60136c3a440f324d35440c0b1c2c4c2c5c1c453d7b3d35262e38713b01032506170d14124a020d4213076c0603231d4e0453324d6e4c251539225f366c002f0e574a03435b382d3d7f031e3c204c07246a331c4b322a5f223846747d7e122c274e1756297f587c5b3c5a4f110c5c085f1a6e554b52160d316e1a233a2a0b4956111b7c307b161e4a455e2a0d181e053d4d0c47210e073c5b0f3f0a491a4a3a40263b6b0c4025023a2c4805553a45395e1d35262a1d512b0b070c292107103b43240d4636274a0607063d683d571b444848013c30045f324509090e53630a655b3c043459031a15296a0720433a3a4b3603560438425d525844280e1c31022d56515a5f1b7c601958582e0d176a5d6d001b09394713266a22224055161f55395d161a634c782a09311723396a254e070e031552293f0e60136c3a440f324d35440c0b1c2c4c2c5c1c453d7b3d35262e38713b01032506170d14124a020d4213076c0603231d4e0453324d6e4c251539225f366c002f0e574a03435b382d3d7f031e3c204c07246a331c4b322a5f223846747d7e122c274e1756297f587c5b3c5a4f110c5c085f1a6e554b52160d316e1a233a2a0b4956111b7c307b161e4a455e2a0d181e053d4d0c47210e073c5b0f3f0a491a4a3a40263b6b354025023a2c4805553a45395e1d35262a1d513b01070c0f2107103b43020d463a0e4a0607063d4e04571b44484c213c302255324509090e53630a435b3c043459031a15294c0720433a3a4b3603562238425d525844280e4717562d56515a5b38731d1158582e0d123a51625b105a394713233a2e224055161f55395d161a634c5d2d093117233d49254e2209031552293f0e60136c3a440f324d35440c0b1c2c4c2c5c1c453d7b3d35262e34581d01032506070714124a020d4213076c06032c61780453324d6e4c25166c325f366c002f0e574a03435b382d3d7f031e3c204c07246" )

print("Déchiffrement en cours avec les données suivantes :")
print("map_data:", map_data_value)
print("decrypt_key:", decrypt_key)
result = decypher_data(map_data_value, decrypt_key)
print("Résultat du déchiffrement :", result)
